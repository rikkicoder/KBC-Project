<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>KBC Login</title>
  <link rel="stylesheet" href="{{ url_for('static', filename='css/index.css') }}">
  <script>
    function toggleForms() {
      var role = document.getElementById("role").value;
      if (role === "admin") {
        document.getElementById("admin-form").style.display = "block";
        document.getElementById("user-form").style.display = "none";
      } else {
        document.getElementById("admin-form").style.display = "none";
        document.getElementById("user-form").style.display = "block";
      }
      // Update active tab style
      if(role === "admin"){
        document.getElementById("admin-tab").classList.add("active");
        document.getElementById("user-tab").classList.remove("active");
      } else {
        document.getElementById("user-tab").classList.add("active");
        document.getElementById("admin-tab").classList.remove("active");
      }
    }
    
    function showLoginContainer() {
  const btn = document.getElementById("enter-btn");
  btn.style.transition = "transform 0.5s ease, opacity 0.5s ease";
  btn.style.transform = "scale(0.8)";
  btn.style.opacity = "0";

  setTimeout(() => {
    btn.style.display = "none";
    document.getElementById("login-container").classList.add("show");
  }, 500);
}

    window.onload = function() {
      // Set default role to user in hidden select element
      document.getElementById("role").value = "user";
      toggleForms(); // ensure correct form is displayed on page load
    };
  </script>
</head>
<body>
  <div class="page-container">
    <!-- Logo Container -->
    <div class="logo-container">
      <div class="logo">
        <div class="rings">
          <div class="ring"><div class="rin"></div></div>
          <div class="ring"><div class="rin"></div></div>
          <div class="ring"><div class="rin"></div></div>
          <div class="ring"><div class="rin"></div></div>
          <div class="ring"><div class="rin"></div></div>
          <div class="ring"><div class="rin"></div></div>
          <div class="ring"><div class="rin"></div></div>
          <div class="ring"><div class="rin"></div></div>
          <div class="ring"><div class="rin"></div></div>
          <div class="ring"><div class="rin"></div></div>
          <div class="ring"><div class="rin"></div></div>
          <div class="ring"><div class="rin"></div></div>
          <div class="ring"><div class="rin"></div></div>
          <div class="ring"><div class="rin"></div></div>
          <div class="ring"><div class="rin"></div></div>
          <div class="ring"><div class="rin"></div></div>
          <div class="ring"><div class="rin"></div></div>
          <div class="ring"><div class="rin"></div></div>
          <div class="border"></div>
          <div class="rupee-container">
            <div class="rs">&#8377;</div>
            <div class="rs">&#8377;</div>
            <div class="rs">&#8377;</div>
            <div class="rs">&#8377;</div>
            <div class="rs">&#8377;</div>
            <div class="rs">&#8377;</div>
          </div>
        </div>
        <div class="diamond"></div>
        <div class="diamond"></div>
        <div class="diamond"></div>
        <div class="diamond"></div>
        <div class="mainHeading">Crorepati</div>
        <div class="subHeading1">
          <div class="char">K</div>
          <div class="char">A</div>
          <div class="char">U</div>
          <div class="char">N</div>
          <div class="char">&nbsp;</div>
          <div class="char">B</div>
          <div class="char">A</div>
          <div class="char">N</div>
          <div class="char">E</div>
          <div class="char">G</div>
          <div class="char">A</div>
        </div>
        <div class="subHeading2">
          <div class="char">K</div>
          <div class="char">A</div>
          <div class="char">U</div>
          <div class="char">N</div>
          <div class="char">&nbsp;</div>
          <div class="char">B</div>
          <div class="char">A</div>
          <div class="char">N</div>
          <div class="char">E</div>
          <div class="char">G</div>
          <div class="char">A</div>
        </div>
      </div>
    </div>

    <!-- Enter Button (shown initially) -->
    <button class="enter-btn" id="enter-btn" onclick="showLoginContainer()">Enter</button>

    <!-- Login Container (hidden initially) -->
    <div class="login-container" id="login-container">
      <h1>KBC Login</h1>
      <!-- Tab Interface -->
      <div class="tabs">
        <div class="tab active" id="user-tab" onclick="document.getElementById('role').value='user'; toggleForms();">User</div>
        <div class="tab" id="admin-tab" onclick="document.getElementById('role').value='admin'; toggleForms();">Administrator</div>
      </div>
      <!-- Hidden select to preserve existing functionality -->
      <select id="role" style="display:none;">
        <option value="user">User</option>
        <option value="admin">Administrator</option>
      </select>
      <!-- User Login Form -->
      <form action="{{ url_for('user_login') }}" method="post" id="user-form">
        <label>Name:</label>
        <input type="text" name="name" placeholder="Name" required>
        <label>Email Address:</label>
        <input type="email" name="email" placeholder="Email Address" required>
        <label>Date of Birth:</label>
        <input type="date" name="dob" required>
        <label>Qualification:</label>
        <select name="qualification" required>
          <option value="">Select Qualification</option>
          <option value="10th Pass">10th Pass</option>
          <option value="12th Pass">12th Pass</option>
          <option value="Graduate">Graduate</option>
          <option value="Not Literate">Not Literate</option>
        </select>
        <button type="submit">Login as User</button>
      </form>
      <!-- Admin Login Form -->
      <form action="{{ url_for('admin_login') }}" method="post" id="admin-form" style="display:none;">
        <label>Admin ID:</label>
        <input type="text" name="admin_id" placeholder="Admin ID" required>
        <label>Password:</label>
        <input type="password" name="admin_password" placeholder="Password" required>
        <button type="submit">Login as Admin</button>
      </form>
    </div>
  </div>
</body>
</html>
